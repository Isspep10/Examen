<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Examen de Física</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f4; }
    .container { background: white; padding: 20px; border-radius: 10px; max-width: 600px; margin: auto; box-shadow: 0 0 10px #ccc; }
    h1, h2 { text-align: center; }
    .question { margin-bottom: 20px; }
    .results { margin-top: 30px; }
    .btn { padding: 10px 20px; font-size: 16px; margin-top: 10px; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Examen de Física</h1>

    <div id="menu">
      <button class="btn" onclick="iniciarExamen()">Hacer examen</button>
      <button class="btn" onclick="mostrarResultados()">Ver resultados</button>
    </div>

    <div id="examen" class="hidden">
      <h2>Nombre del estudiante</h2>
      <input type="text" id="nombreEstudiante" placeholder="Escribe tu nombre" />
      <div id="preguntas"></div>
      <button class="btn" onclick="terminarExamen()">Finalizar</button>
    </div>

    <div id="resultados" class="hidden results">
      <h2>Resultados del Examen</h2>
      <div id="listaResultados"></div>
      <button class="btn" onclick="volverMenu()">Volver al menú</button>
    </div>
  </div>

  <script>
    const TOTAL_PREGUNTAS = 15;
    const PREGUNTAS_MOSTRADAS = 5;
    const estudiantes = [];

    const bancoPreguntas = [
      {
        pregunta: "¿Qué es un péndulo simple?",
        opciones: ["Un objeto que rueda", "Un cuerpo que cuelga y se mueve", "Un resorte que se estira", "Una bola que flota"],
        correcta: 1
      },
      {
        pregunta: "¿Cuál es el período de un péndulo de 1 metro?",
        opciones: ["1 segundo", "2 segundos", "3 segundos", "4 segundos"],
        correcta: 1
      },
      {
        pregunta: "Si el período es 2 segundos, ¿cuánto mide el péndulo?",
        opciones: ["0.5 m", "1 m", "1.5 m", "2 m"],
        correcta: 1
      },
      {
        pregunta: "¿Qué sucede con el período si se aumenta la longitud del péndulo?",
        opciones: ["El período disminuye", "El período no cambia", "El período aumenta", "El péndulo se detiene"],
        correcta: 2
      },
      {
        pregunta: "¿Qué ley describe el comportamiento de un resorte ideal?",
        opciones: ["Ley de Newton", "Ley de Hooke", "Ley de Ohm", "Ley de Pascal"],
        correcta: 1
      },
      {
        pregunta: "¿Cuál es la constante de elasticidad de un resorte que se estira 0.5 m al aplicarle una fuerza de 10 N?",
        opciones: ["20 N/m", "10 N/m", "5 N/m", "2 N/m"],
        correcta: 0
      },
      {
        pregunta: "¿Qué sucede si se comprime un resorte?",
        opciones: ["El resorte se rompe", "El resorte genera una fuerza hacia adentro", "No pasa nada", "El resorte se calienta"],
        correcta: 1
      },
      {
        pregunta: "¿Qué es una onda?",
        opciones: ["Un sonido que solo se escucha en el agua", "Una perturbación que se propaga en el espacio", "Un objeto que vibra sin moverse", "Un tipo de energía que no se mueve"],
        correcta: 1
      },
      {
        pregunta: "¿Qué tipo de onda es el sonido?",
        opciones: ["Electromagnética", "Transversal", "Longitudinal", "Luminosa"],
        correcta: 2
      },
      {
        pregunta: "Una onda tiene frecuencia 5 Hz y longitud 2 m. ¿Cuál es su velocidad?",
        opciones: ["10 m/s", "7 m/s", "2.5 m/s", "1 m/s"],
        correcta: 0
      },
      {
        pregunta: "¿Qué ocurre en el efecto Doppler?",
        opciones: ["La frecuencia cambia por movimiento", "La luz cambia en el vacío", "El sonido se hace más fuerte", "El sonido se detiene"],
        correcta: 0
      },
      {
        pregunta: "Si una ambulancia se acerca, ¿cómo se percibe su sonido?",
        opciones: ["Más grave", "No se escucha", "Más agudo", "Igual"],
        correcta: 2
      },
      {
        pregunta: "Una onda de luz tiene frecuencia de 6x10^14 Hz. Si la velocidad de la luz es 3x10^8 m/s, ¿cuál es su longitud?",
        opciones: ["0.5 m", "5x10^7 m", "5x10^-7 m", "5 m"],
        correcta: 2
      },
      {
        pregunta: "¿Qué tipo de onda es la luz?",
        opciones: ["Sonora", "Electromagnética", "Mecánica", "Longitudinal"],
        correcta: 1
      },
      {
        pregunta: "¿Cuál es la unidad de la frecuencia?",
        opciones: ["Newton", "Hertz", "Metro", "Julio"],
        correcta: 1
      }
    ];

    let preguntasSeleccionadas = [];

    function iniciarExamen() {
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("examen").classList.remove("hidden");

      // Seleccionar preguntas aleatorias
      preguntasSeleccionadas = bancoPreguntas
        .sort(() => Math.random() - 0.5)
        .slice(0, PREGUNTAS_MOSTRADAS);

      const contenedor = document.getElementById("preguntas");
      contenedor.innerHTML = "";

      preguntasSeleccionadas.forEach((p, i) => {
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `<p><strong>Pregunta ${i + 1}:</strong> ${p.pregunta}</p>` +
          p.opciones.map((op, j) =>
            `<label><input type="radio" name="pregunta${i}" value="${j}"> ${op}</label><br>`
          ).join("");
        contenedor.appendChild(div);
      });
    }

    function terminarExamen() {
      const nombre = document.getElementById("nombreEstudiante").value.trim();
      if (nombre === "") {
        alert("Por favor, escribe tu nombre.");
        return;
      }

      let nota = 0;
      preguntasSeleccionadas.forEach((p, i) => {
        const seleccion = document.querySelector(`input[name="pregunta${i}"]:checked`);
        if (seleccion && parseInt(seleccion.value) === p.correcta) {
          nota++;
        }
      });

      estudiantes.push({ nombre, nota });
      alert(`Tu nota fue: ${nota} de ${PREGUNTAS_MOSTRADAS}`);

      volverMenu();
    }

    function mostrarResultados() {
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("resultados").classList.remove("hidden");

      const lista = document.getElementById("listaResultados");
      lista.innerHTML = estudiantes.length === 0
        ? "<p>No hay resultados aún.</p>"
        : estudiantes.map((e, i) => `<p>${i + 1}. ${e.nombre} - Nota: ${e.nota}/${PREGUNTAS_MOSTRADAS}</p>`).join("");
    }

    function volverMenu() {
      document.getElementById("examen").classList.add("hidden");
      document.getElementById("resultados").classList.add("hidden");
      document.getElementById("menu").classList.remove("hidden");
      document.getElementById("nombreEstudiante").value = "";
    }
  </script>
</body>
</html>

